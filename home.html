<!DOCTYPE html>
<html>
<head>
    <title>Malware Detection</title>
    <link rel="stylesheet" href="home.css">
</head>
<body>
    <header>
        <h1>SAFE ZONE</h1>
        <nav class="navbar">
            <div class="navdiv">
                <div class="logo">SAFEZONE</a> </div>
            </div>
        </nav>
    </header>
    <div class="container">
        <form action="dbconnect.php" method="post" enctype="multipart/form-data">
            <label for="appName"><b>App Name:</b></label><br>
            <input type="text" id="appName" name="appName" placeholder="App name.." required><br><br>

            <label for="appSize"><b>App Size (in MB):</b></label><br>
            <input type="number" id="appSize" name="appSize" placeholder="App size.." required><br><br>

            <label for="permissions"><b>Permissions:</b></label><br>
            <textarea id="permissions" name="permissions" rows="4" cols="50" placeholder="Set permissions.." required></textarea><br><br>

            <label for="features"><b>Features:</b></label><br>
            <textarea id="features" name="features" rows="4" cols="50" placeholder="App features.." required></textarea><br><br>

            <label for="analysisType"><b>Analysis Type:</b></label><br>
            <select id="analysisType" name="analysisType" required>
                <option value="static">Static Analysis</option>
                <option value="dynamic">Dynamic Analysis</option>
            </select><br><br>

            
            <input type="file" id="appFile" name="appFile" >

            <input type="submit" value="Submit">
            <button type="button" id="scanButton">Scan Now</button>
            <div id="result"></div>
        </form>

    </div>
    <footer>
        <p>&copy; 2024 My Website. All Rights Reserved.</p>
    </footer>

    <script>
        function scanForMalware() {
    var fileInput = document.getElementById("appFile");
    var file = fileInput.files[0];

    return new Promise((resolve, reject) => {
        if (!file) {
            reject("No file selected.");
        } else {
            var reader = new FileReader();
            reader.onload = function(event) {
                // Implement your real malware detection logic here
                // For demonstration purposes, this function always returns false
                resolve(false);
            };
            reader.onerror = function(event) {
                reject("Error reading file.");
            };
            reader.readAsArrayBuffer(file);
        }
    });
}
        document.getElementById("scanButton").addEventListener("click", function() {
            // Simulating a scan process
            setTimeout(function() {
                var isMalwareDetected = scanForMalware(); // Assuming this function performs actual malware detection
                var resultElement = document.getElementById("result");
                if (isMalwareDetected) {
                    flashResult("Malware detected! Take action immediately.", "red");
                } else {
                    flashResult("No malware detected. Your system is safe.", "green");
                }
            }, 2000); // Simulating a 2-second scan process
        });

        function scanForMalware() {
            // Implement your malware detection logic here
            // For example, you could check the uploaded file for known malware signatures
            // This is a simplified example, and a real malware detection algorithm would be much more complex
            return Math.random() < 0.5; // Simulating a 50% chance of detecting malware
        }

        function flashResult(message, color) {
            var intervalId;
            var resultElement = document.getElementById("result");
            intervalId = setInterval(function() {
                resultElement.style.visibility = (resultElement.style.visibility === 'hidden' ? 'visible' : 'hidden');
            }, 500); // Toggle visibility every 500 milliseconds

            setTimeout(function() {
                clearInterval(intervalId);
                resultElement.innerHTML = message;
                resultElement.style.color = color;
                resultElement.style.visibility = 'visible';
            }, 10000); // Stop flashig after 10 seconds and show final result
        }
    </script>
</body>
</html>


